(this["webpackJsonprozum-systems"]=this["webpackJsonprozum-systems"]||[]).push([[0],{3:function(e,t,o){e.exports={preloader:"Employees_preloader__vlAf4",wrapper:"Employees_wrapper__1peCq",title:"Employees_title__XTrno",name:"Employees_name__13eKP",table:"Employees_table__1cWri",headColumn:"Employees_headColumn__2PuLx",bodyColumn:"Employees_bodyColumn__cZPmX",link:"Employees_link__105Zk"}},30:function(e,t,o){},37:function(e,t,o){"use strict";o.r(t);var a=o(0),i=o.n(a),r=o(14),l=o.n(r),n=(o(30),o(4)),m=o(6),d=o(16),c=o(17),s=o(20),p=o(18),y=o(3),j=o.n(y),u=o(11),f=o(19),h={loading:!0,employees:[]},b=o(12),_=o(1),O=function(e){return Object(_.jsxs)("div",{className:j.a.wrapper,children:[Object(_.jsx)("h2",{className:j.a.title,children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0432\u0440\u0430\u0447\u0435\u0439"}),Object(_.jsxs)("table",{className:j.a.table,children:[Object(_.jsx)("thead",{className:j.a.tableHead,children:Object(_.jsxs)("tr",{className:j.a.headRow,children:[Object(_.jsx)("th",{className:j.a.headColumn,children:"ID"}),Object(_.jsx)("th",{className:j.a.headColumn,align:"left",children:"Name"}),Object(_.jsx)("th",{className:j.a.headColumn,children:"Date of birthday"})]})}),Object(_.jsx)("tbody",{children:e.employees.map((function(e){var t=new Date(e.birthDate),o=t.getFullYear(),a=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0"),r="".concat(i,"/").concat(a,"/").concat(o);return Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{className:j.a.bodyColumn,children:e.id}),Object(_.jsx)("th",{className:j.a.bodyColumn,align:"left",children:Object(_.jsx)(b.b,{className:j.a.link,to:"/worklog/".concat(e.id),children:e.lastName+" "+e.firstName+" "+e.middleName})}),Object(_.jsx)("th",{className:j.a.bodyColumn,children:r})]},e.id)}))})]})]})},N={"/api/employees":[{id:1,firstName:"\u041b\u0435\u043e\u043d\u0438\u0434",lastName:"\u0421\u0442\u0430\u0440\u043e\u043a\u0430\u0434\u043e\u043c\u0441\u043a\u0438\u0439",middleName:"\u041c\u0438\u0445\u0430\u0439\u043b\u043e\u0432\u0438\u0447",birthDate:"1875-03-27",phone:"+79975669545"},{id:2,firstName:"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440",lastName:"\u0414\u0435\u043c\u0438\u0445\u043e\u0432",middleName:"\u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",birthDate:"1916-06-18",phone:"+74951263366"},{id:3,firstName:"\u0412\u0438\u043a\u0442\u043e\u0440",lastName:"\u041a\u0430\u043b\u043d\u0431\u0435\u0440\u0437",middleName:"\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d\u043e\u0432\u0438\u0447",birthDate:"1928-06-02",phone:"+37156698963"},{id:4,firstName:"\u0410\u043b\u043e\u0438\u0441",lastName:"\u0410\u043b\u044c\u0446\u0433\u0435\u0439\u043c\u0435\u0440",middleName:"\u042d\u0434\u0443\u0430\u0440\u0434\u043e\u0432\u0438\u0447",birthDate:"1864-06-14",phone:"+15559665599"},{id:5,firstName:"\u0410\u0432\u0438\u0446\u0435\u043d\u043d\u0430",lastName:"\u0421\u0438\u043d\u0430",middleName:"\u0410\u0431\u0443 \u0410\u043b\u0438 \u0418\u0431\u043d",birthDate:"980-08-23",phone:"+15559171855"},{id:6,firstName:"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440",lastName:"\u0424\u043b\u0435\u043c\u0438\u043d\u0433",middleName:"\u0425\u0443\u0433\u043e\u0432\u0438\u0447",birthDate:"1881-08-06",phone:"+4569988569"}],"/api/employees/worklog":[{id:1,employee_id:1,from:"2021-03-04 04:44:44",to:"2021-03-04 06:46:09"},{id:2,employee_id:1,from:"2021-03-04 06:55:01",to:"2021-03-04 08:13:10"},{id:3,employee_id:1,from:"2021-03-04 09:11:45",to:"2021-03-04 10:55:34"},{id:4,employee_id:1,from:"2021-03-04 11:31:54",to:"2021-03-04 13:36:34"},{id:5,employee_id:1,from:"2021-03-04 14:40:52",to:"2021-03-04 21:31:27"},{id:6,employee_id:1,from:"2021-03-04 21:32:16",to:"2021-03-04 22:13:47"},{id:7,employee_id:1,from:"2021-03-04 22:44:21",to:"2021-03-04 22:47:15"},{id:8,employee_id:1,from:"2021-03-04 23:27:07",to:"2021-03-04 23:41:45"},{id:9,employee_id:1,from:"2021-03-04 23:41:54",to:"2021-03-04 23:44:51"},{id:10,employee_id:1,from:"2021-03-04 23:53:00",to:"2021-04-04 01:15:22"},{id:11,employee_id:2,from:"2021-03-04 03:44:44",to:"2021-03-04 03:46:09"},{id:12,employee_id:2,from:"2021-03-04 03:55:01",to:"2021-03-04 08:13:10"},{id:13,employee_id:2,from:"2021-03-04 09:11:43",to:"2021-03-04 10:55:37"},{id:14,employee_id:2,from:"2021-03-04 10:56:54",to:"2021-03-04 13:36:34"},{id:15,employee_id:2,from:"2021-03-04 13:40:52",to:"2021-03-04 15:31:27"},{id:16,employee_id:2,from:"2021-03-04 15:32:16",to:"2021-03-04 16:13:47"},{id:17,employee_id:3,from:"2021-03-04 00:00:16",to:"2021-03-04 12:00:47"},{id:18,employee_id:3,from:"2021-03-04 12:33:56",to:"2021-03-04 20:11:11"},{id:19,employee_id:4,from:"2021-03-04 00:12:12",to:"2021-03-04 04:07:09"},{id:20,employee_id:4,from:"2021-03-04 06:33:25",to:"2021-03-04 08:56:12"},{id:21,employee_id:4,from:"2021-03-04 09:02:45",to:"2021-03-04 10:11:11"},{id:22,employee_id:4,from:"2021-03-04 11:12:10",to:"2021-03-04 13:36:34"},{id:23,employee_id:4,from:"2021-03-04 13:16:52",to:"2021-03-04 14:31:27"},{id:24,employee_id:4,from:"2021-03-04 16:32:16",to:"2021-03-04 19:13:59"},{id:25,employee_id:4,from:"2021-03-04 19:44:21",to:"2021-03-04 22:54:15"},{id:26,employee_id:4,from:"2021-03-04 23:27:19",to:"2021-03-04 23:41:30"},{id:27,employee_id:5,from:"2021-03-04 11:12:12",to:"2021-03-04 12:07:09"},{id:28,employee_id:5,from:"2021-03-04 12:32:25",to:"2021-03-04 12:56:13"},{id:29,employee_id:5,from:"2021-03-04 14:02:17",to:"2021-03-04 14:11:08"},{id:30,employee_id:5,from:"2021-03-04 15:12:19",to:"2021-03-04 16:33:33"},{id:31,employee_id:5,from:"2021-03-04 18:25:52",to:"2021-03-04 20:31:12"},{id:32,employee_id:5,from:"2021-03-04 20:32:20",to:"2021-03-04 21:21:21"},{id:33,employee_id:5,from:"2021-03-04 22:44:21",to:"2021-03-04 22:54:15"},{id:34,employee_id:5,from:"2021-03-04 22:59:19",to:"2021-03-04 23:29:30"},{id:35,employee_id:6,from:"2021-03-04 02:15:44",to:"2021-03-04 04:46:09"},{id:36,employee_id:6,from:"2021-03-04 17:26:01",to:"2021-03-04 08:17:10"},{id:37,employee_id:6,from:"2021-03-04 09:29:45",to:"2021-03-04 11:32:34"},{id:38,employee_id:6,from:"2021-03-04 11:39:07",to:"2021-03-04 13:39:07"},{id:39,employee_id:6,from:"2021-03-04 14:15:52",to:"2021-03-04 19:01:08"},{id:40,employee_id:6,from:"2021-03-04 19:32:47",to:"2021-03-04 20:55:47"},{id:41,employee_id:6,from:"2021-03-04 22:59:00",to:"2021-03-04 23:09:15"},{id:42,employee_id:6,from:"2021-03-04 23:27:05",to:"2021-03-04 23:30:45"},{id:43,employee_id:6,from:"2021-03-04 23:30:54",to:"2021-03-04 23:50:01"},{id:44,employee_id:6,from:"2021-04-04 00:53:00",to:"2021-04-04 04:15:22"}]};function g(e){var t;return t=N[e],new Promise((function(e,o){return setTimeout(t?e:o,500,t)}))}var x=o.p+"static/media/preloader.4c0dabf6.gif",E=function(){return Object(_.jsx)("img",{src:x,alt:"preloader"})},w=function(e){Object(s.a)(o,e);var t=Object(p.a)(o);function o(){return Object(d.a)(this,o),t.apply(this,arguments)}return Object(c.a)(o,[{key:"componentDidMount",value:function(){var e=this;g("/api/employees").then((function(t){e.props.setEmployees(t.sort((function(e,t){return e.lastName.toUpperCase()<=t.lastName.toUpperCase()?-1:1}))),e.props.changeLoading()}))}},{key:"render",value:function(){return this.props.loading?Object(_.jsx)("div",{className:j.a.preloader,children:Object(_.jsx)(E,{})}):Object(_.jsx)(O,Object(m.a)({},this.props))}}]),o}(i.a.Component),v=Object(u.b)((function(e){return{loading:e.employeesPage.loading,employees:e.employeesPage.employees}}),(function(e){return{setEmployees:function(t){e(function(e){return{type:"SET_EMPLOYEES",employees:e}}(t))},changeLoading:function(){e({type:"CHANGE_LOADING"})}}}))(w),k={employeeId:0,worklog:[]},C=function(e){return Object(_.jsxs)("div",{className:j.a.wrapper,children:[Object(_.jsx)("h2",{className:j.a.title,children:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f \u0432\u0440\u0430\u0447\u0430 \u0432 \u0431\u043e\u043b\u044c\u043d\u0438\u0447\u043d\u043e\u043c \u043e\u0442\u0434\u0435\u043b\u0435\u043d\u0438\u0438:"}),Object(_.jsx)("p",{className:j.a.name,children:e.employees.map((function(t){return t.id===e.employeeId?"".concat(t.lastName," ").concat(t.firstName," ").concat(t.middleName):""}))}),Object(_.jsxs)("table",{className:j.a.table,children:[Object(_.jsx)("thead",{className:j.a.tableHead,children:Object(_.jsxs)("tr",{className:j.a.headRow,children:[Object(_.jsx)("th",{className:j.a.headColumn,children:"Date"}),Object(_.jsx)("th",{className:j.a.headColumn,children:"From Time"}),Object(_.jsx)("th",{className:j.a.headColumn,children:"To Time"})]})}),Object(_.jsx)("tbody",{children:e.worklog.map((function(t){if(t.employee_id===e.employeeId){var o=new Date(t.from),a=new Date(t.to),i=function(e){var t=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0");return"".concat(t,":").concat(o)};return Object(_.jsxs)("tr",{children:[Object(_.jsx)("th",{className:j.a.bodyColumn,children:function(e){var t=e.getFullYear(),o=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0");return"".concat(a,"/").concat(o,"/").concat(t)}(o)}),Object(_.jsx)("th",{className:j.a.bodyColumn,children:i(o)}),Object(_.jsx)("th",{className:j.a.bodyColumn,children:i(a)})]},t.id)}}))})]})]})},D=function(e){Object(s.a)(o,e);var t=Object(p.a)(o);function o(){return Object(d.a)(this,o),t.apply(this,arguments)}return Object(c.a)(o,[{key:"componentDidMount",value:function(){var e=this,t=+this.props.match.params.id;this.props.setEmployeeId(t),g("/api/employees/worklog").then((function(t){e.props.setWorklog(t)}))}},{key:"render",value:function(){return Object(_.jsx)(C,Object(m.a)({},this.props))}}]),o}(i.a.Component),S=Object(n.e)(D),I=Object(u.b)((function(e){return{employees:e.employeesPage.employees,employeeId:e.worklogPage.employeeId,worklog:e.worklogPage.worklog}}),(function(e){return{setWorklog:function(t){e(function(e){return{type:"SET_WORKLOG",worklog:e}}(t))},setEmployeeId:function(t){e({type:"SET_EMPLOYEE_ID",employeeID:t})}}}))(S);var P=function(){return Object(_.jsxs)("div",{className:"wrapper",children:[Object(_.jsx)(n.a,{exact:!0,path:"/",render:function(){return Object(_.jsx)(v,{})}}),Object(_.jsx)(n.a,{exact:!0,path:"/worklog/:id",render:function(){return Object(_.jsx)(I,{})}})]})},L=o(24),T=Object(L.a)({employeesPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EMPLOYEES":return Object(m.a)(Object(m.a)({},e),{},{employees:Object(f.a)(t.employees)});case"CHANGE_LOADING":return Object(m.a)(Object(m.a)({},e),{},{loading:!1});default:return e}},worklogPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WORKLOG":return Object(m.a)(Object(m.a)({},e),{},{worklog:Object(f.a)(t.worklog)});case"SET_EMPLOYEE_ID":return Object(m.a)(Object(m.a)({},e),{},{employeeId:t.employeeID});default:return e}}}),M=Object(L.b)(T);l.a.render(Object(_.jsx)(b.a,{children:Object(_.jsx)(u.a,{store:M,children:Object(_.jsx)(P,{})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.a89920c4.chunk.js.map